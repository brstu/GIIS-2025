from flask import Flask, render_template

app = Flask(__name__)

# Данные о книгах с относительными путями
BOOKS = {
    1: {
        "title": "Алиса в Стране Чудес",
        "author": "Льюис Кэрролл",
        "genre": "Фэнтези",
        "year": "1865",
        "cover": "images/covers/алиса_в_стране_чудес.jpg",
        "description": "Девочка Алиса попадает в удивительный подземный мир, где её ждут невероятные приключения и встречи с eccentric персонажами.",
        "reviews": [
            {
                "author": "Мария К.",
                "rating": "★★★★★",
                "text": "Читала в детстве и перечитываю во взрослом возрасте. Каждый раз нахожу новые смыслы!",
                "date": "15 января 2023"
            },
            {
                "author": "Алексей П.",
                "rating": "★★★★☆",
                "text": "Великолепная игра воображения, но некоторые моменты слишком абсурдны.",
                "date": "3 марта 2023"
            },
            {
                "author": "Ольга В.",
                "rating": "★★★★★",
                "text": "Обязательна к прочтению в любом возрасте. Иллюстрации автора - отдельное удовольствие!",
                "date": "22 декабря 2022"
            }
        ]
    },
    2: {
        "title": "Гордость и предубеждение",
        "author": "Джейн Остин",
        "genre": "Роман",
        "year": "1813",
        "cover": "images/covers/джейн_остин.jpg",
        "description": "История любви Элизабет Беннет и мистера Дарси на фоне английского общества начала XIX века.",
        "reviews": [
            {
                "author": "Екатерина С.",
                "rating": "★★★★★",
                "text": "Идеальный роман! Мистер Дарси - эталон мужского характера.",
                "date": "10 февраля 2023"
            },
            {
                "author": "Дмитрий Н.",
                "rating": "★★★☆☆",
                "text": "Классика, но иногда слишком много описаний быта и недостаточно действия.",
                "date": "5 мая 2023"
            }
        ]
    },
    3: {
        "title": "Грозовой Перевал",
        "author": "Шарлотта Бронте",
        "genre": "Драма",
        "year": "1849",
        "cover": "images/covers/грозовой_перевал.jpg",
        "description": "Мрачный роман, история любви, ненависти и тайной страсти.",
        "reviews": [
            {
                "author": "Иван К.",
                "rating": "★★★★★",
                "text": "Пугающе актуально в наше время. Must read для каждого!",
                "date": "30 апреля 2023"
            },
            {
                "author": "Анна М.",
                "rating": "★★★★☆",
                "text": "Сильная книга, но после прочтения остаётся тяжёлое послевкусие.",
                "date": "17 марта 2023"
            },
            {
                "author": "Павел З.",
                "rating": "★★★★★",
                "text": "Это не просто книга - это предупреждение человечеству.",
                "date": "8 января 2023"
            }
        ]
    },
    4: {
        "title": "Собор Парижскйо Богоматери",
        "author": "Виктор Гюго",
        "genre": "Классика",
        "year": "1967",
        "cover": "images/covers/маленький_принц.jpg",
        "description": "Мистическая история, где переплетаются реальность и фантастика, добро и зло.",
        "reviews": [
            {
                "author": "Сергей Л.",
                "rating": "★★★★★",
                "text": "Величайший роман XX века. Каждое прочтение открывает новые слои смысла.",
                "date": "12 мая 2023"
            },
            {
                "author": "Наталья Р.",
                "rating": "★★★★☆",
                "text": "Гениально, но требует вдумчивого чтения. Не для лёгкого времяпрепровождения.",
                "date": "28 февраля 2023"
            }
        ]
    }
}

@app.route("/")
def home():
    return render_template("index.html", books=BOOKS)

@app.route("/book/<int:book_id>")
def book(book_id):
    if book_id not in BOOKS:
        return "Книга не найдена", 404
    return render_template("book.html", book=BOOKS[book_id])

@app.route("/profile")
def profile():
    return render_template("profile.html")

if __name__ == "__main__":
    app.run(debug=True)